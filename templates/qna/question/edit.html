{% extends 'qna/layout.html' %}
{% load static %}
{% block qna_content %}
<h4>Edit question</h4>
<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="{% url 'home' %}">Home</a></li>
    <li class="breadcrumb-item"><a href="{% url 'qna:question.index' %}">QnA</a></li>
    <li class="breadcrumb-item active" aria-current="page">Edit question</li>
  </ol>
</nav>
<form action="#" method="post" enctype='multipart/form-data'>
  <div class='row'>
    <div class="col-md-4 mb-2">
      <label for="title" class="form-label">Title</label>
      <input type="text" class="form-control" name="title" value='{{ question.title }}' required />
    </div>
    <div class="col-md-4 mb-2">
      <label for="category" class="form-label">Category</label>
      <select name="category" class="form-control" required>
        <option value="{{ tag.id }}">{{ tag.name }}</option>
        {% for tag in tags %}
        <option value="{{ tag.id }}">{{ tag.name }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="col-md-4 mb-2">
      <label for="attachment" class="form-label">File</label>
      <input type="file" class="form-control" name="attachment" allow='image/*' />
    </div>
  </div>
  <div class="mb-2">
    <label for="content" class="form-label">Description</label>
    <textarea class='form-control' id='editor' name='content' rows='5' placeholder="describe your question...">{{ question.content|safe }}</textarea>
  </div>
  {% csrf_token %}
  <div class='d-flex justify-content-between'>
    <button class="btn btn-primary" type="submit">Continue</button>
    <a class="btn btn-link" href="{% url 'qna:question.index' %}">All discussions</a>
  </div>
</form>
{% endblock %}
{% block scripts %}
<script src="{% static 'js/ckeditor.js' %}"></script>
<script>
  ClassicEditor.create(document.querySelector('#editor'))
</script>
{% endblock %}